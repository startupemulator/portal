(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{295:function(t,e,r){var content=r(302);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(99).default)("7a7e9063",content,!0,{sourceMap:!1})},300:function(t,e,r){"use strict";r.r(e);var o=r(77),n=r.n(o);class c{constructor(t,e){this.axios=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}/`:`/items/${t}/`}async create(t,e){return(await this.axios.post(this.endpoint,t,{params:e})).data}async read(t,e){let r=null;t&&(Array.isArray(t)||"string"==typeof t||"number"==typeof t)&&(r=t);let o={};e?o=e:e||"object"!=typeof t||!1!==Array.isArray(t)||(o=t);let n=this.endpoint;r&&(n+=r);return(await this.axios.get(n,{params:o})).data}async update(t,e,r){if("string"==typeof t||"number"==typeof t||Array.isArray(t)&&t.every(t=>["string","number"].includes(typeof t))){const o=t,n=e;return(await this.axios.patch(`${this.endpoint}${o}`,n,{params:r})).data}return(await this.axios.patch(""+this.endpoint,t,{params:e})).data}async delete(t){await this.axios.delete(`${this.endpoint}${t}`)}}class h{constructor(t){this.specs={oas:async()=>(await this.axios.get("/server/specs/oas")).data},this.axios=t}async ping(){return await this.axios.get("/server/ping"),"pong"}async info(){return(await this.axios.get("/server/info")).data}}class d{constructor(t){this.random={string:async(t=32)=>(await this.axios.get("/utils/random/string",{params:{length:t}})).data},this.hash={generate:async t=>(await this.axios.post("/utils/hash/generate",{string:t})).data,verify:async(t,e)=>(await this.axios.post("/utils/hash/verify",{string:t,hash:e})).data},this.axios=t}async sort(t,e,r){await this.axios.post("/utils/sort/"+t,{item:e,to:r})}async revert(t){await this.axios.post("/utils/revert/"+t)}}class l{constructor(t){this.comments={create:async t=>(await this.axios.post("/activity/comments",t)).data,update:async(t,e)=>(await this.axios.patch("/activity/comments/"+t,e)).data,delete:async t=>{await this.axios.delete("/activity/comments/"+t)}},this.axios=t,this.itemsHandler=new c("directus_activity",t)}async read(t,e){return await this.itemsHandler.read(t,e)}}class x extends c{constructor(t){super("directus_folders",t)}}class m extends c{constructor(t){super("directus_permissions",t)}}class w extends c{constructor(t){super("directus_presets",t)}}class f extends c{constructor(t){super("directus_relations",t)}}class v extends c{constructor(t){super("directus_revisions",t)}}class y extends c{constructor(t){super("directus_roles",t)}}class _ extends c{constructor(t){super("directus_users",t),this.tfa={enable:async t=>{await this.axios.post("/users/tfa/enable",{password:t})},disable:async t=>{await this.axios.post("/users/tfa/disable",{otp:t})}},this.me={read:async t=>(await this.axios.get("/users/me",{params:t})).data,update:async(t,e)=>(await this.axios.patch("/users/me",t,{params:e})).data}}async invite(t,e){await this.axios.post("/users/invite",{email:t,role:e})}async acceptInvite(t,e){await this.axios.post("/users/invite/accept",{token:t,password:e})}}class k extends c{constructor(t){super("directus_settings",t)}}class I extends c{constructor(t){super("directus_files",t)}}class A extends c{constructor(t){super("directus_collections",t)}}class T extends c{constructor(t){super("directus_fields",t)}}class R{constructor(t,e){this.autoRefreshTimeout=null,this.accessTokenInitId=null,this.password={request:async t=>{await this.axios.post("/auth/password/request",{email:t})},reset:async(t,e)=>{await this.axios.post("/auth/password/reset",{token:t,password:e})}},this.axios=t,this.storage=e.storage,this.mode=e.mode,this.autoRefresh=e.autoRefresh,this.accessTokenInitId=this.axios.interceptors.request.use(t=>this.initializeAccessToken(t)),this.autoRefresh&&this.refresh()}get token(){var t,e;return(null===(e=null===(t=this.axios.defaults.headers)||void 0===t?void 0:t.Authorization)||void 0===e?void 0:e.split(" ")[1])||null}set token(t){var e;null===t?null===(e=this.axios.defaults.headers)||void 0===e||delete e.Authorization:this.axios.defaults.headers={...this.axios.defaults.headers||{},Authorization:"Bearer "+t}}async login(t){this.removeTimeout();const e=await this.axios.post("/auth/login",{...t,mode:this.mode}),data=e.data.data;return this.token=data.access_token,this.expiresAt=Date.now()+data.expires,await this.storage.setItem("directus_access_token",this.token),await this.storage.setItem("directus_access_token_expires",this.expiresAt),"json"===this.mode&&await this.storage.setItem("directus_refresh_token",data.refresh_token),this.autoRefresh&&this.refresh(),e.data}async refresh(){if(this.removeTimeout(),this.expiresAt=await this.storage.getItem("directus_access_token_expires"),!this.expiresAt)return;if(Date.now()+1e4<this.expiresAt&&this.autoRefresh)return void(this.autoRefreshTimeout=setTimeout(()=>this.refresh(),this.expiresAt-Date.now()-1e4));const t={mode:this.mode};if("json"===this.mode){const e=await this.storage.getItem("directus_refresh_token");t.refresh_token=e}this.expiresAt<Date.now()+1e3&&(this.token=null);const e=await this.axios.post("/auth/refresh",t),data=e.data.data;return this.token=data.access_token,this.expiresAt=Date.now()+data.expires,await this.storage.setItem("directus_access_token",this.token),await this.storage.setItem("directus_access_token_expires",this.expiresAt),"json"===this.mode&&await this.storage.setItem("directus_refresh_token",e.data.data.refresh_token),this.autoRefresh&&(this.autoRefreshTimeout=setTimeout(()=>this.refresh(),data.expires-1e4)),e.data}async logout(){this.removeTimeout();const data={};"json"===this.mode&&(data.refresh_token=await this.storage.getItem("directus_refresh_token")),await this.axios.post("/auth/logout",data),this.token=null}async initializeAccessToken(t){if(null!==this.accessTokenInitId){const e=await this.storage.getItem("directus_access_token");e&&(this.token=e,t.headers.Authorization="Bearer "+e),this.axios.interceptors.request.eject(this.accessTokenInitId),this.accessTokenInitId=null}return t}removeTimeout(){null!==this.autoRefreshTimeout&&(clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)}}class ${async getItem(t){return window.localStorage.getItem(t)}async setItem(t,e){window.localStorage.setItem(t,e)}}class j{constructor(){this.values={}}async getItem(t){return this.values[t]}async setItem(t,e){this.values[t]=e}}e.default=class{constructor(t,e){var r,o,c,h,d,l;this.axios=n.a.create({baseURL:t,withCredentials:!0}),this.authOptions={storage:null!==(o=null===(r=null==e?void 0:e.auth)||void 0===r?void 0:r.storage)&&void 0!==o?o:"undefined"==typeof window?new j:new $,mode:null!==(h=null===(c=null==e?void 0:e.auth)||void 0===c?void 0:c.mode)&&void 0!==h?h:"cookie",autoRefresh:null!==(l=null===(d=null==e?void 0:e.auth)||void 0===d?void 0:d.autoRefresh)&&void 0!==l&&l},this.auth=new R(this.axios,this.authOptions)}get url(){return this.axios.defaults.baseURL}set url(t){this.axios.defaults.baseURL=t}items(t){if(t.startsWith("directus_"))throw new Error(`You can't read the "${t}" collection directly.`);return new c(t,this.axios)}get activity(){return new l(this.axios)}get collections(){return new A(this.axios)}get fields(){return new T(this.axios)}get files(){return new I(this.axios)}get folders(){return new x(this.axios)}get permissions(){return new m(this.axios)}get presets(){return new w(this.axios)}get relations(){return new f(this.axios)}get revisions(){return new v(this.axios)}get roles(){return new y(this.axios)}get server(){return new h(this.axios)}get settings(){return new k(this.axios)}get users(){return new _(this.axios)}get utils(){return new d(this.axios)}}},301:function(t,e,r){"use strict";r(295)},302:function(t,e,r){(e=r(98)(!1)).push([t.i,"h1{color:#fff}#content{width:400px;margin:40px auto}#content a{color:#3cc28d}#content a.button{color:#3cc28d;border:1px solid #3cc28d;border-radius:5px;padding:10px}",""]),t.exports=e},312:function(t,e,r){"use strict";r.r(e);r(31);var o=r(4),n={asyncData:function(){return Object(o.a)(regeneratorRuntime.mark((function t(){var e,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r(300),o=new e("https://cms.startupemulator.com/"),t.prev=2,t.next=5,o.users.me.read();case 5:n=t.sent,console.log(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.warn(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))()},data:function(){console.warn("????")}},c=(r(301),r(45)),component=Object(c.a)(n,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"content"}},[e("h1",[this._v("Pages List")]),this._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"/"}},[this._v("Landing")])])]),this._v(" "),e("a",{staticClass:"button",attrs:{href:"https://cms.startupemulator.com/auth/oauth/github?redirect=http://localhost:3000/pages"}},[this._v("Log\n    in with github")])])}],!1,null,null,null);e.default=component.exports}}]);